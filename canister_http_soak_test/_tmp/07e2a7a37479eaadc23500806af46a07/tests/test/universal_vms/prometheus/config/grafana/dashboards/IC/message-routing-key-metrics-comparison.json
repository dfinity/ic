{
  "annotations": {
    "list": [
      {
        "$$hashKey": "object:3274",
        "builtIn": 1,
        "datasource": {
          "type": "datasource",
          "uid": "grafana"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "links": [
    {
      "$$hashKey": "object:279",
      "asDropdown": true,
      "icon": "external link",
      "includeVars": true,
      "keepTime": true,
      "tags": [
        "production"
      ],
      "targetBlank": true,
      "type": "dashboards"
    }
  ],
  "panels": [
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 54,
      "panels": [],
      "title": "Message Routing",
      "type": "row"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Dashboard --"
      },
      "description": "Per round time spent in the Message Routing related deterministic processing phases.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "max": 0.6,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 10,
        "x": 0,
        "y": 1
      },
      "id": 65,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true,
          "sortBy": "Mean",
          "sortDesc": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "datasource": {
            "type": "datasource",
            "uid": "-- Dashboard --"
          },
          "panelId": 72,
          "refId": "A"
        }
      ],
      "title": "DSM: Time Spent in Message Routing $comparison_offset ago",
      "transformations": [
        {
          "id": "filterByRefId",
          "options": {
            "include": "A"
          }
        },
        {
          "id": "labelsToFields",
          "options": {
            "keepLabels": [
              "ic_subnet"
            ],
            "valueLabel": "ic_subnet"
          }
        }
      ],
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Dashboard --"
      },
      "description": "Per round time spent in the Message Routing related deterministic processing phases.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "max": 0.6,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 10,
        "x": 10,
        "y": 1
      },
      "id": 52,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true,
          "sortBy": "Mean",
          "sortDesc": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "datasource": {
            "type": "datasource",
            "uid": "-- Dashboard --"
          },
          "panelId": 72,
          "refId": "A"
        }
      ],
      "title": "DSM: Time Spent in Message Routing",
      "transformations": [
        {
          "id": "filterByRefId",
          "options": {
            "include": "B"
          }
        },
        {
          "id": "labelsToFields",
          "options": {
            "keepLabels": [
              "ic_subnet"
            ],
            "mode": "columns",
            "valueLabel": "ic_subnet"
          }
        }
      ],
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 60,
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "pointShape": "circle",
            "pointSize": {
              "fixed": 6
            },
            "pointStrokeWidth": 0,
            "scaleDistribution": {
              "type": "linear"
            },
            "show": "points"
          },
          "decimals": 0,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "seconds"
            },
            "properties": [
              {
                "id": "unit",
                "value": "short"
              },
              {
                "id": "decimals"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 4,
        "x": 20,
        "y": 1
      },
      "id": 72,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "mapping": "auto",
        "series": [
          {
            "frame": {
              "matcher": {
                "id": "byIndex",
                "options": 0
              }
            },
            "x": {
              "matcher": {
                "id": "byName",
                "options": "seconds"
              }
            },
            "y": {
              "matcher": {
                "id": "byName",
                "options": "% Change"
              }
            }
          }
        ],
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "editorMode": "code",
          "expr": "label_replace(\nlabel_replace(\n  quantile_over_time(\n    0.5,\n    quantile by (ic_subnet) (\n      0.5,\n        sum by (ic, ic_node, ic_subnet, instance, job) (rate(mr_process_batch_phase_duration_seconds_sum{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\",phase!=\"execution\"}[1m] offset $comparison_offset))\n      /\n        rate(execution_round_duration_seconds_count{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"}[1m] offset $comparison_offset)\n    )[10m:10s]\n  ),\n  \"when\", \"before\", \"\", \"\"),\n  \"ic_subnet\", \"$1\", \"ic_subnet\", \"([a-z0-9]+)-.*\"\n)",
          "legendFormat": "__auto",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "editorMode": "code",
          "expr": "label_replace(\nlabel_replace(\n  quantile_over_time(\n    0.5,\n    quantile by (ic_subnet) (\n      0.5,\n        sum by (ic, ic_node, ic_subnet, instance, job) (rate(mr_process_batch_phase_duration_seconds_sum{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\",phase!=\"execution\"}[1m]))\n      /\n        rate(execution_round_duration_seconds_count{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"}[1m])\n    )[10m:10s]\n  ),\n  \"when\", \"now\", \"\", \"\"),\n  \"ic_subnet\", \"$1\", \"ic_subnet\", \"([a-z0-9]+)-.*\"\n)",
          "hide": false,
          "legendFormat": "__auto",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "DSM: Time Spent in Message Routing - Change",
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "mean"
            ]
          }
        },
        {
          "id": "extractFields",
          "options": {
            "source": "Field"
          }
        },
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "Mean": {
                "aggregations": [
                  "first",
                  "last"
                ],
                "operation": "aggregate"
              },
              "ic_subnet": {
                "aggregations": [],
                "operation": "groupby"
              }
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "% Relative",
            "binary": {
              "left": {
                "matcher": {
                  "id": "byName",
                  "options": "Mean (last)"
                }
              },
              "operator": "/",
              "right": {
                "matcher": {
                  "id": "byName",
                  "options": "Mean (first)"
                }
              }
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "% Change",
            "binary": {
              "left": {
                "matcher": {
                  "id": "byName",
                  "options": "% Relative"
                }
              },
              "operator": "-",
              "right": {
                "fixed": "1"
              }
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "sortBy",
          "options": {
            "fields": {},
            "sort": [
              {
                "desc": true,
                "field": "Mean (last)"
              }
            ]
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "% Relative": true,
              "Mean (first)": true
            },
            "includeByName": {},
            "indexByName": {},
            "renameByName": {
              "% Relative": "",
              "Mean (last)": "seconds"
            }
          }
        }
      ],
      "transparent": true,
      "type": "xychart"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Dashboard --"
      },
      "description": "Median share of deterministic processing cycle consumed by Message Routing related phases",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 40,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "max": 0.6,
          "min": 0.4,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 10,
        "x": 0,
        "y": 9
      },
      "id": 50,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "datasource": {
            "type": "datasource",
            "uid": "-- Dashboard --"
          },
          "panelId": 76,
          "refId": "A"
        }
      ],
      "title": "Share of MR Operations in Processing Cycle $comparison_offset ago",
      "transformations": [
        {
          "id": "filterByRefId",
          "options": {
            "include": "A"
          }
        },
        {
          "id": "prepareTimeSeries",
          "options": {}
        },
        {
          "id": "labelsToFields",
          "options": {
            "keepLabels": [
              "ic_subnet",
              "phase"
            ],
            "mode": "columns",
            "valueLabel": "phase"
          }
        },
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "Time": {
                "aggregations": [],
                "operation": "groupby"
              },
              "Value": {
                "aggregations": [
                  "mean"
                ],
                "operation": "aggregate"
              },
              "commit": {
                "aggregations": [
                  "mean"
                ],
                "operation": "aggregate"
              },
              "induction": {
                "aggregations": [
                  "mean"
                ],
                "operation": "aggregate"
              },
              "message_routing": {
                "aggregations": [
                  "mean"
                ],
                "operation": "aggregate"
              },
              "phase 1": {
                "aggregations": [],
                "operation": "groupby"
              },
              "phase 2": {
                "aggregations": [],
                "operation": "groupby"
              },
              "phase 3": {
                "aggregations": [],
                "operation": "groupby"
              },
              "phase 4": {
                "aggregations": [],
                "operation": "groupby"
              },
              "time_out_messages": {
                "aggregations": [
                  "mean"
                ],
                "operation": "aggregate"
              },
              "time_out_requests": {
                "aggregations": [
                  "mean"
                ],
                "operation": "aggregate"
              }
            }
          }
        },
        {
          "id": "prepareTimeSeries",
          "options": {
            "format": "long"
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "indexByName": {},
            "renameByName": {
              "commit (mean)": "commit",
              "induction (mean)": "induction",
              "message_routing (mean)": "message_routing",
              "time_out_messages (mean)": "time_out_messages",
              "time_out_requests (mean)": "time_out_requests"
            }
          }
        },
        {
          "id": "prepareTimeSeries",
          "options": {}
        }
      ],
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Dashboard --"
      },
      "description": "Median share of deterministic processing cycle consumed by Message Routing related phases",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 40,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "max": 0.6,
          "min": 0.4,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 10,
        "x": 10,
        "y": 9
      },
      "id": 66,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "datasource": {
            "type": "datasource",
            "uid": "-- Dashboard --"
          },
          "panelId": 76,
          "refId": "A"
        }
      ],
      "title": "Share of MR Operations in Processing Cycle",
      "transformations": [
        {
          "id": "filterByRefId",
          "options": {
            "include": "B"
          }
        },
        {
          "id": "prepareTimeSeries",
          "options": {}
        },
        {
          "id": "labelsToFields",
          "options": {
            "keepLabels": [
              "ic_subnet",
              "phase"
            ],
            "mode": "columns",
            "valueLabel": "phase"
          }
        },
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "Time": {
                "aggregations": [],
                "operation": "groupby"
              },
              "Value": {
                "aggregations": [
                  "mean"
                ],
                "operation": "aggregate"
              },
              "commit": {
                "aggregations": [
                  "mean"
                ],
                "operation": "aggregate"
              },
              "induction": {
                "aggregations": [
                  "mean"
                ],
                "operation": "aggregate"
              },
              "message_routing": {
                "aggregations": [
                  "mean"
                ],
                "operation": "aggregate"
              },
              "phase 1": {
                "aggregations": [],
                "operation": "groupby"
              },
              "phase 2": {
                "aggregations": [],
                "operation": "groupby"
              },
              "phase 3": {
                "aggregations": [],
                "operation": "groupby"
              },
              "phase 4": {
                "aggregations": [],
                "operation": "groupby"
              },
              "time_out_messages": {
                "aggregations": [
                  "mean"
                ],
                "operation": "aggregate"
              },
              "time_out_requests": {
                "aggregations": [
                  "mean"
                ],
                "operation": "aggregate"
              }
            }
          }
        },
        {
          "id": "prepareTimeSeries",
          "options": {
            "format": "long"
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "indexByName": {},
            "renameByName": {
              "commit (mean)": "commit",
              "induction (mean)": "induction",
              "message_routing (mean)": "message_routing",
              "time_out_messages (mean)": "time_out_messages",
              "time_out_requests (mean)": "time_out_requests"
            }
          }
        },
        {
          "id": "prepareTimeSeries",
          "options": {}
        }
      ],
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 60,
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "pointShape": "circle",
            "pointSize": {
              "fixed": 6
            },
            "pointStrokeWidth": 0,
            "scaleDistribution": {
              "type": "linear"
            },
            "show": "points"
          },
          "decimals": 0,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 4,
        "x": 20,
        "y": 9
      },
      "id": 76,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "mapping": "auto",
        "series": [
          {
            "frame": {
              "matcher": {
                "id": "byIndex",
                "options": 0
              }
            },
            "x": {
              "matcher": {
                "id": "byName",
                "options": "% Share"
              }
            },
            "y": {
              "matcher": {
                "id": "byName",
                "options": "% Change"
              }
            }
          }
        ],
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "editorMode": "code",
          "expr": "label_replace(\nlabel_replace(\n    # Median over 10 minutes, to filter out checkpointing.\n    quantile_over_time(\n        0.5,\n        # Median per subnet.\n        quantile by (ic_subnet, phase) (\n            0.5,\n                rate(mr_process_batch_phase_duration_seconds_sum{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\",phase!~\"execution|load_state\"}[1m] offset $comparison_offset)\n            / ignoring (phase) group_left \n                sum without (phase) (\n                    rate(mr_process_batch_phase_duration_seconds_sum{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"}[1m] offset $comparison_offset)\n                )\n        )[10m:10s]\n    ),\n    \"when\", \"before\", \"\", \"\"),\n    \"ic_subnet\", \"$1\", \"ic_subnet\", \"([a-z0-9]+)-.*\"\n)",
          "legendFormat": "__auto",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "editorMode": "code",
          "expr": "label_replace(\nlabel_replace(\n      # Median over 10 minutes, to filter out checkpointing.\n    quantile_over_time(\n        0.5,\n        # Median per subnet.\n        quantile by (ic_subnet, phase) (\n            0.5,\n                rate(mr_process_batch_phase_duration_seconds_sum{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\",phase!~\"execution|load_state\"}[1m])\n            / ignoring (phase) group_left \n                sum without (phase) (\n                    rate(mr_process_batch_phase_duration_seconds_sum{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"}[1m])\n                )\n        )[10m:10s]\n    ),\n    \"when\", \"now\", \"\", \"\"),\n    \"ic_subnet\", \"$1\", \"ic_subnet\", \"([a-z0-9]+)-.*\"\n)",
          "hide": false,
          "legendFormat": "__auto",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Share of MR Operations in Processing Cycle - Change",
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "mean"
            ]
          }
        },
        {
          "id": "extractFields",
          "options": {
            "source": "Field"
          }
        },
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "Mean": {
                "aggregations": [
                  "first",
                  "last"
                ],
                "operation": "aggregate"
              },
              "ic_subnet": {
                "aggregations": [],
                "operation": "groupby"
              },
              "phase": {
                "aggregations": [],
                "operation": "groupby"
              }
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "% Relative",
            "binary": {
              "left": "Mean (last)",
              "operator": "/",
              "reducer": "sum",
              "right": "Mean (first)"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "% Change",
            "binary": {
              "left": "% Relative",
              "operator": "-",
              "reducer": "sum",
              "right": "1"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "sortBy",
          "options": {
            "fields": {},
            "sort": [
              {
                "desc": true,
                "field": "Mean (last)"
              }
            ]
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "% Relative": true,
              "Mean (first)": true,
              "Mean (last)": false
            },
            "indexByName": {},
            "renameByName": {
              "Mean (last)": "% Share"
            }
          }
        }
      ],
      "transparent": true,
      "type": "xychart"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 17
      },
      "id": 56,
      "panels": [],
      "title": "State Manager",
      "type": "row"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Dashboard --"
      },
      "description": "Checkpointing time per GiB of min(state size, 1GiB). The minimum is clamped at 1GiB to iron out the state-size independent overhead on subnets with small state size.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "s/GiB",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "max": 0.65,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 10,
        "x": 0,
        "y": 18
      },
      "id": 67,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true,
          "sortBy": "Mean",
          "sortDesc": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "datasource": {
            "type": "datasource",
            "uid": "-- Dashboard --"
          },
          "panelId": 73,
          "refId": "A"
        }
      ],
      "title": "Checkpointing Time per GiB $comparison_offset ago",
      "transformations": [
        {
          "id": "filterByRefId",
          "options": {
            "include": "A"
          }
        },
        {
          "id": "labelsToFields",
          "options": {
            "keepLabels": [
              "ic_subnet"
            ],
            "valueLabel": "ic_subnet"
          }
        }
      ],
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Dashboard --"
      },
      "description": "Checkpointing time per GiB of min(state size, 1GiB). The minimum is clamped at 1GiB to iron out the state-size independent overhead on subnets with small state size.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "s/GiB",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "max": 0.65,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 10,
        "x": 10,
        "y": 18
      },
      "id": 48,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true,
          "sortBy": "Mean",
          "sortDesc": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "datasource": {
            "type": "datasource",
            "uid": "-- Dashboard --"
          },
          "panelId": 73,
          "refId": "A"
        }
      ],
      "title": "Checkpointing Time per GiB",
      "transformations": [
        {
          "id": "filterByRefId",
          "options": {
            "include": "B"
          }
        },
        {
          "id": "labelsToFields",
          "options": {
            "keepLabels": [
              "ic_subnet"
            ],
            "valueLabel": "ic_subnet"
          }
        }
      ],
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 60,
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "pointShape": "circle",
            "pointSize": {
              "fixed": 6
            },
            "pointStrokeWidth": 0,
            "scaleDistribution": {
              "type": "linear"
            },
            "show": "points"
          },
          "decimals": 0,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "seconds / GiB"
            },
            "properties": [
              {
                "id": "unit",
                "value": "short"
              },
              {
                "id": "decimals"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 4,
        "x": 20,
        "y": 18
      },
      "id": 73,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "mapping": "auto",
        "series": [
          {
            "frame": {
              "matcher": {
                "id": "byIndex",
                "options": 0
              }
            },
            "x": {
              "matcher": {
                "id": "byName",
                "options": "seconds / GiB"
              }
            },
            "y": {
              "matcher": {
                "id": "byName",
                "options": "% Change"
              }
            }
          }
        ],
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "editorMode": "code",
          "expr": "label_replace(\nlabel_replace(\n    quantile by (ic_subnet) (\n      0.5,\n      last_over_time(\n        (\n            rate(state_manager_checkpoint_op_duration_seconds_sum{job=\"replica\",ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\",op=\"create\"}[$period] offset $comparison_offset)\n          /\n            rate(state_manager_checkpoint_op_duration_seconds_count{job=\"replica\",ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\",op=\"create\"}[$period] offset $comparison_offset)\n        )[30m:10s]\n      )\n    )\n  /\n    clamp_min(\n      quantile by (ic_subnet) (\n        0.5,\n        # Exported with a value of zero before the first checkpoint. Filter that out.\n        state_manager_state_size_bytes{job=\"replica\",ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"} offset $comparison_offset != 0\n      ),\n      1024 * 1024 * 1000\n    )\n  * 1024 * 1024 * 1024,\n  \"when\", \"before\", \"\", \"\"),\n  \"ic_subnet\", \"$1\", \"ic_subnet\", \"([a-z0-9]+)-.*\"\n)",
          "legendFormat": "__auto",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "editorMode": "code",
          "expr": "label_replace(\nlabel_replace(\n    quantile by (ic_subnet) (\n      0.5,\n      last_over_time(\n        (\n            rate(state_manager_checkpoint_op_duration_seconds_sum{job=\"replica\",ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\",op=\"create\"}[$period])\n          /\n            rate(state_manager_checkpoint_op_duration_seconds_count{job=\"replica\",ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\",op=\"create\"}[$period])\n        )[30m:10s]\n      )\n    )\n  /\n    clamp_min(\n      quantile by (ic_subnet) (\n        0.5,\n        # Exported with a value of zero before the first checkpoint. Filter that out.\n        state_manager_state_size_bytes{job=\"replica\",ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"} != 0\n      ),\n      1024 * 1024 * 1000\n    )\n  * 1024 * 1024 * 1024,\n  \"when\", \"now\", \"\", \"\"),\n  \"ic_subnet\", \"$1\", \"ic_subnet\", \"([a-z0-9]+)-.*\"\n)",
          "hide": false,
          "legendFormat": "__auto",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Checkpointing Time per GiB - Change",
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "mean"
            ]
          }
        },
        {
          "id": "extractFields",
          "options": {
            "source": "Field"
          }
        },
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "Mean": {
                "aggregations": [
                  "first",
                  "last"
                ],
                "operation": "aggregate"
              },
              "ic_subnet": {
                "aggregations": [],
                "operation": "groupby"
              }
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "% Relative",
            "binary": {
              "left": "Mean (last)",
              "operator": "/",
              "reducer": "sum",
              "right": "Mean (first)"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "% Change",
            "binary": {
              "left": "% Relative",
              "operator": "-",
              "reducer": "sum",
              "right": "1"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "sortBy",
          "options": {
            "fields": {},
            "sort": [
              {
                "desc": true,
                "field": "Mean (last)"
              }
            ]
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "% Change": false,
              "% Relative": true,
              "Mean (first)": true,
              "Mean (last)": false
            },
            "indexByName": {},
            "renameByName": {
              "Change": "",
              "Mean (last)": "seconds / GiB"
            }
          }
        }
      ],
      "transparent": true,
      "type": "xychart"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Dashboard --"
      },
      "description": "Manifest Computation Time per GiB of min(delta size,  32MiB). The minimum is clamped at 32MiB to iron out the delta-size independent overhead on subnets with small delta size.\n\nNote that this metrics also considers the fraction of unchanged chunks that are hashed and compared to the original hash as part of the delta.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "s/GiB",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "max": 1.6,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 10,
        "x": 0,
        "y": 26
      },
      "id": 68,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true,
          "sortBy": "Mean",
          "sortDesc": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "datasource": {
            "type": "datasource",
            "uid": "-- Dashboard --"
          },
          "panelId": 74,
          "refId": "A"
        }
      ],
      "title": "Manifest Computation Time per GiB delta $comparison_offset ago",
      "transformations": [
        {
          "id": "filterByRefId",
          "options": {
            "include": "A"
          }
        },
        {
          "id": "labelsToFields",
          "options": {
            "keepLabels": [
              "ic_subnet"
            ],
            "valueLabel": "ic_subnet"
          }
        }
      ],
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Dashboard --"
      },
      "description": "Manifest Computation Time per GiB of min(delta size,  32MiB). The minimum is clamped at 32MiB to iron out the delta-size independent overhead on subnets with small delta size.\n\nNote that this metrics also considers the fraction of unchanged chunks that are hashed and compared to the original hash as part of the delta.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "s/GiB",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "max": 1.6,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 10,
        "x": 10,
        "y": 26
      },
      "id": 63,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true,
          "sortBy": "Mean",
          "sortDesc": true
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "datasource": {
            "type": "datasource",
            "uid": "-- Dashboard --"
          },
          "panelId": 74,
          "refId": "A"
        }
      ],
      "title": "Manifest Computation Time per GiB delta",
      "transformations": [
        {
          "id": "filterByRefId",
          "options": {
            "include": "B"
          }
        },
        {
          "id": "labelsToFields",
          "options": {
            "keepLabels": [
              "ic_subnet"
            ],
            "valueLabel": "ic_subnet"
          }
        }
      ],
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 60,
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "pointShape": "circle",
            "pointSize": {
              "fixed": 6
            },
            "pointStrokeWidth": 0,
            "scaleDistribution": {
              "type": "linear"
            },
            "show": "points"
          },
          "decimals": 0,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "seconds / GiB"
            },
            "properties": [
              {
                "id": "unit",
                "value": "short"
              },
              {
                "id": "decimals"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 4,
        "x": 20,
        "y": 26
      },
      "id": 74,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "mapping": "auto",
        "series": [
          {
            "frame": {
              "matcher": {
                "id": "byIndex",
                "options": 0
              }
            },
            "x": {
              "matcher": {
                "id": "byName",
                "options": "seconds / GiB"
              }
            },
            "y": {
              "matcher": {
                "id": "byName",
                "options": "% Change"
              }
            }
          }
        ],
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "editorMode": "code",
          "expr": "# Time per GB is computed as the ratio of compute manifest duration increase to hashed manifest bytes increase over one checkpoint (2m).\n# Takes the minimum time per GB across 1-2 checkpoints (10m), as the former is a step increase and the latter is gradual (so without the min_over_time the ratio looks like disjointed, inverted Us).\n# Assumes that checkpointing time is < 2m; and that checkpoint interval is between 2m and 10m.\nlabel_replace(\nlabel_replace(\n    quantile by (ic_subnet) (\n      0.5,\n      min_over_time(\n        (\n            (\n              # Use `idelta()` because this is a step function; and `idelta()` is not affected by timestamp jitter.\n              idelta(state_manager_checkpoint_op_duration_seconds_sum{job=\"replica\",ic=\"mercury\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\",op=\"compute_manifest\"}[2m] offset $comparison_offset) > 0\n            )\n          / on(ic_node, ic_subnet)\n            clamp_min(\n              sum without(type) (\n                increase(state_manager_manifest_chunk_bytes{job=\"replica\",ic=\"mercury\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\",type=~\"hashed|hashed_and_compared\"}[2m] offset $comparison_offset) != 0\n              ),\n              32 * 1024 * 1024\n            )\n        )[10m:10s]\n      )\n    )\n  * 1024 * 1024 * 1024,\n  \"when\", \"before\", \"\", \"\"),\n  \"ic_subnet\", \"$1\", \"ic_subnet\", \"([a-z0-9]+)-.*\"\n)",
          "legendFormat": "__auto",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "editorMode": "code",
          "expr": "# Time per GB is computed as the ratio of compute manifest duration increase to hashed manifest bytes increase over one checkpoint (2m).\n# Takes the minimum time per GB across 1-2 checkpoints (10m), as the former is a step increase and the latter is gradual (so without the min_over_time the ratio looks like disjointed, inverted Us).\n# Assumes that checkpointing time is < 2m; and that checkpoint interval is between 2m and 10m.\nlabel_replace(\nlabel_replace(\n    quantile by (ic_subnet) (\n      0.5,\n      min_over_time(\n        (\n            (\n              # Use `idelta()` because this is a step function; and `idelta()` is not affected by timestamp jitter.\n              idelta(state_manager_checkpoint_op_duration_seconds_sum{job=\"replica\",ic=\"mercury\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\",op=\"compute_manifest\"}[2m]) > 0\n            )\n          / on(ic_node, ic_subnet)\n            clamp_min(\n              sum without(type) (\n                increase(state_manager_manifest_chunk_bytes{job=\"replica\",ic=\"mercury\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\",type=~\"hashed|hashed_and_compared\"}[2m]) != 0\n              ),\n              32 * 1024 * 1024\n            )\n        )[10m:10s]\n      )\n    )\n  * 1024 * 1024 * 1024,\n  \"when\", \"now\", \"\", \"\"),\n  \"ic_subnet\", \"$1\", \"ic_subnet\", \"([a-z0-9]+)-.*\"\n)",
          "hide": false,
          "legendFormat": "__auto",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Manifest Computation Time per GiB delta - Change",
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "mean"
            ]
          }
        },
        {
          "id": "extractFields",
          "options": {
            "source": "Field"
          }
        },
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "Mean": {
                "aggregations": [
                  "first",
                  "last"
                ],
                "operation": "aggregate"
              },
              "ic_subnet": {
                "aggregations": [],
                "operation": "groupby"
              }
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "% Relative",
            "binary": {
              "left": "Mean (last)",
              "operator": "/",
              "reducer": "sum",
              "right": "Mean (first)"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "% Change",
            "binary": {
              "left": "% Relative",
              "operator": "-",
              "reducer": "sum",
              "right": "1"
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "sortBy",
          "options": {
            "fields": {},
            "sort": [
              {
                "desc": true,
                "field": "Mean (last)"
              }
            ]
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "% Relative": true,
              "Mean (first)": true,
              "Mean (last)": false
            },
            "indexByName": {},
            "renameByName": {
              "Mean (last)": "seconds / GiB"
            }
          }
        }
      ],
      "transparent": true,
      "type": "xychart"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Dashboard --"
      },
      "description": "Count of streams by the number of consensus rounds required for a XNet message to be inducted on the destination subnet.\n\nNote that we measure a full roundtrip, i.e., the time until a message is garbage collected based on a signal coming back from the other subnet and divide this by two.",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "scaleDistribution": {
              "type": "linear"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 10,
        "x": 0,
        "y": 34
      },
      "id": 69,
      "options": {
        "calculate": false,
        "cellGap": 1,
        "color": {
          "exponent": 0.8,
          "fill": "#73BF69",
          "min": 0,
          "mode": "opacity",
          "reverse": false,
          "scale": "exponential",
          "scheme": "Greens",
          "steps": 64
        },
        "exemplars": {
          "color": "rgba(255,0,255,0.7)"
        },
        "filterValues": {
          "le": 1e-9
        },
        "legend": {
          "show": false
        },
        "rowsFrame": {
          "layout": "auto"
        },
        "tooltip": {
          "mode": "single",
          "showColorScale": false,
          "yHistogram": true
        },
        "yAxis": {
          "axisLabel": "Consensus Rounds",
          "axisPlacement": "left",
          "reverse": false
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "datasource": {
            "type": "datasource",
            "uid": "-- Dashboard --"
          },
          "panelId": 75,
          "refId": "A"
        }
      ],
      "title": "~ #Rounds until XNet message inducted on target subnet $comparison_offset ago",
      "transformations": [
        {
          "id": "filterByRefId",
          "options": {
            "include": "A"
          }
        },
        {
          "id": "labelsToFields",
          "options": {
            "keepLabels": [
              "le"
            ],
            "valueLabel": "le"
          }
        }
      ],
      "transparent": true,
      "type": "heatmap"
    },
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Dashboard --"
      },
      "description": "Count of streams by the number of consensus rounds required for a XNet message to be inducted on the destination subnet.\n\nNote that we measure a full roundtrip, i.e., the time until a message is garbage collected based on a signal coming back from the other subnet and divide this by two.",
      "fieldConfig": {
        "defaults": {
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "scaleDistribution": {
              "type": "linear"
            }
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 10,
        "x": 10,
        "y": 34
      },
      "id": 60,
      "options": {
        "calculate": false,
        "cellGap": 1,
        "color": {
          "exponent": 0.8,
          "fill": "#73BF69",
          "min": 0,
          "mode": "opacity",
          "reverse": false,
          "scale": "exponential",
          "scheme": "Greens",
          "steps": 64
        },
        "exemplars": {
          "color": "rgba(255,0,255,0.7)"
        },
        "filterValues": {
          "le": 1e-9
        },
        "legend": {
          "show": false
        },
        "rowsFrame": {
          "layout": "auto"
        },
        "tooltip": {
          "mode": "single",
          "showColorScale": false,
          "yHistogram": true
        },
        "yAxis": {
          "axisLabel": "Consensus Rounds",
          "axisPlacement": "left",
          "reverse": false
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "datasource": {
            "type": "datasource",
            "uid": "-- Dashboard --"
          },
          "panelId": 75,
          "refId": "A"
        }
      ],
      "title": "~ #Rounds until XNet message inducted on target subnet",
      "transformations": [
        {
          "id": "filterByRefId",
          "options": {
            "include": "B"
          }
        },
        {
          "id": "labelsToFields",
          "options": {
            "keepLabels": [
              "le"
            ],
            "valueLabel": "le"
          }
        }
      ],
      "transparent": true,
      "type": "heatmap"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 60,
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "pointShape": "circle",
            "pointSize": {
              "fixed": 6
            },
            "pointStrokeWidth": 0,
            "scaleDistribution": {
              "type": "linear"
            },
            "show": "points"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Bucket"
            },
            "properties": [
              {
                "id": "unit",
                "value": "short"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 4,
        "x": 20,
        "y": 34
      },
      "id": 75,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "mapping": "auto",
        "series": [
          {
            "frame": {
              "matcher": {
                "id": "byIndex",
                "options": 0
              }
            },
            "x": {
              "matcher": {
                "id": "byName",
                "options": "Bucket"
              }
            },
            "y": {
              "matcher": {
                "id": "byName",
                "options": "% Change"
              }
            }
          }
        ],
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "editorMode": "code",
          "expr": "label_replace(\n  # Convert per-stream mean into a (non-cumulative) histogram: first round, then count occurrences.\n  count_values(\n    \"le\",\n    # Clamp to between 2 and 6.\n    clamp(\n      # Round to a multiple of .25 after having added .125.\n      round(\n        # Ratio of roundtrip time to sum pf round durations.\n          quantile by(ic_subnet, remote) (\n            0.5,\n            # Ruondtrip time is outgoing message time in stream plus incoming message time in backlog.\n              rate(mr_time_in_stream_sum{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"}[$period] offset $comparison_offset)\n            /\n              rate(mr_time_in_stream_count{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"}[$period] offset $comparison_offset)\n            +\n              rate(mr_time_in_backlog_sum{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"}[$period] offset $comparison_offset)\n            /\n              rate(mr_time_in_backlog_count{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"}[$period] offset $comparison_offset)\n          )\n        /\n          (\n            # Sum of mean round durations on `ic_subnet` and `remote`.\n              0 * count by(ic_subnet, remote) (mr_time_in_stream_sum{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"} offset $comparison_offset)\n            + on(ic_subnet) group_left\n              1 /\n                rate(ic_icsubnet_type:artifact_pool_consensus_height_stat:median{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",type=\"finalization\"}[$period] offset $comparison_offset)\n            + on(remote) group_left\n              1 /\n                label_replace(\n                  rate(ic_icsubnet_type:artifact_pool_consensus_height_stat:median{ic=\"$ic\",type=\"finalization\"}[$period] offset $comparison_offset),\n                  \"remote\", \"$0\", \"ic_subnet\", \".+\"\n                )\n          )\n        + 0.125\n        < 1e9,  # Filter out `NaN` values.\n        0.25\n      ),\n      2, 6\n    )\n  ), \"when\", \"before\", \"\", \"\"\n)",
          "interval": "$period",
          "legendFormat": "__auto",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "editorMode": "code",
          "expr": "label_replace(\n  # Convert per-stream mean into a (non-cumulative) histogram: first round, then count occurrences.\n  count_values(\n    \"le\",\n    # Clamp to between 2 and 6.\n    clamp(\n      # Round to a multiple of .25 after having added .125.\n      round(\n        # Ratio of roundtrip time to sum pf round durations.\n          quantile by(ic_subnet, remote) (\n            0.5,\n            # Ruondtrip time is outgoing message time in stream plus incoming message time in backlog.\n              rate(mr_time_in_stream_sum{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"}[$period])\n            /\n              rate(mr_time_in_stream_count{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"}[$period])\n            +\n              rate(mr_time_in_backlog_sum{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"}[$period])\n            /\n              rate(mr_time_in_backlog_count{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"}[$period])\n          )\n        /\n          (\n            # Sum of mean round durations on `ic_subnet` and `remote`.\n              0 * count by(ic_subnet, remote) (mr_time_in_stream_sum{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"})\n            + on(ic_subnet) group_left\n              1 /\n                rate(ic_icsubnet_type:artifact_pool_consensus_height_stat:median{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",type=\"finalization\"}[$period])\n            + on(remote) group_left\n              1 /\n                label_replace(\n                  rate(ic_icsubnet_type:artifact_pool_consensus_height_stat:median{ic=\"$ic\",type=\"finalization\"}[$period]),\n                  \"remote\", \"$0\", \"ic_subnet\", \".+\"\n                )\n          )\n        + 0.125\n        < 1e9,  # Filter out `NaN` values.\n        0.25\n      ),\n      2, 6\n    )\n  ), \"when\", \"now\", \"\", \"\"\n)",
          "hide": false,
          "interval": "$period",
          "legendFormat": "__auto",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "~ #Rounds until XNet message inducted on target subnet - Change",
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "mean"
            ]
          }
        },
        {
          "id": "extractFields",
          "options": {
            "source": "Field"
          }
        },
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "Mean": {
                "aggregations": [
                  "first",
                  "last"
                ],
                "operation": "aggregate"
              },
              "le": {
                "aggregations": [],
                "operation": "groupby"
              }
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "% Relative",
            "binary": {
              "left": {
                "matcher": {
                  "id": "byName",
                  "options": "Mean (last)"
                }
              },
              "operator": "/",
              "right": {
                "matcher": {
                  "id": "byName",
                  "options": "Mean (first)"
                }
              }
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "% Change",
            "binary": {
              "left": {
                "matcher": {
                  "id": "byName",
                  "options": "% Relative"
                }
              },
              "operator": "-",
              "right": {
                "fixed": "1"
              }
            },
            "mode": "binary",
            "reduce": {
              "reducer": "sum"
            }
          }
        },
        {
          "id": "sortBy",
          "options": {
            "fields": {},
            "sort": [
              {
                "field": "% Change"
              }
            ]
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Bucket",
            "mode": "reduceRow",
            "reduce": {
              "include": [
                "le"
              ],
              "reducer": "sum"
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "% Relative": true,
              "Mean (first)": true,
              "Mean (last)": true,
              "le": true
            },
            "indexByName": {},
            "renameByName": {}
          }
        }
      ],
      "transparent": true,
      "type": "xychart"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 42
      },
      "id": 58,
      "panels": [],
      "title": "XNet",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "max": 1,
          "min": 0.975,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 10,
        "x": 0,
        "y": 43
      },
      "id": 64,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true,
          "sortBy": "Mean",
          "sortDesc": false
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "editorMode": "code",
          "exemplar": true,
          "expr": "label_replace(\n    sum by(ic_subnet) (\n      rate(xnet_builder_pull_attempt_count{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\", status=~\"success|NoContent\"}[$period] offset $comparison_offset)\n    )\n  /\n    sum by(ic_subnet) (\n      rate(xnet_builder_pull_attempt_count{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"}[$period] offset $comparison_offset)\n    ),\n  \"ic_subnet\", \"$1\", \"ic_subnet\", \"([a-z0-9]+)-.*\"\n)",
          "interval": "",
          "legendFormat": "{{ic_subnet}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Successful XNet pull attempts $comparison_offset ago",
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${datasource}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "max": 1,
          "min": 0.975,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 10,
        "x": 10,
        "y": 43
      },
      "id": 70,
      "options": {
        "legend": {
          "calcs": [
            "mean"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true,
          "sortBy": "Mean",
          "sortDesc": false
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.3.0",
      "targets": [
        {
          "editorMode": "code",
          "exemplar": false,
          "expr": "label_replace(\n    sum by(ic_subnet) (\n      rate(xnet_builder_pull_attempt_count{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\", status=~\"success|NoContent\"}[$period])\n    )\n  /\n    sum by(ic_subnet) (\n      rate(xnet_builder_pull_attempt_count{ic=\"$ic\",ic_subnet=~\"$ic_subnet\",instance=~\"$instance\"}[$period])\n    ),\n  \"ic_subnet\", \"$1\", \"ic_subnet\", \"([a-z0-9]+)-.*\"\n)",
          "interval": "",
          "legendFormat": "{{ic_subnet}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Successful XNet pull attempts",
      "transparent": true,
      "type": "timeseries"
    }
  ],
  "preload": false,
  "refresh": "",
  "schemaVersion": 40,
  "tags": [],
  "templating": {
    "list": [
      {
        "current": {
          "selected": false,
          "text": "IC Metrics (cluster local)",
          "value": "IC Metrics (cluster local)"
        },
        "hide": 0,
        "includeAll": false,
        "multi": false,
        "name": "datasource",
        "options": [],
        "query": "prometheus",
        "refresh": 1,
        "regex": "/IC.*/",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "current": {
          "text": "mercury",
          "value": "mercury"
        },
        "datasource": {
          "type": "prometheus",
          "uid": "${datasource}"
        },
        "definition": "label_values(up{job=\"replica\"}, ic)",
        "includeAll": false,
        "label": "IC",
        "name": "ic",
        "options": [],
        "query": {
          "query": "label_values(up{job=\"replica\"}, ic)",
          "refId": "prometheus-ic-Variable-Query"
        },
        "refresh": 2,
        "regex": "",
        "sort": 1,
        "type": "query"
      },
      {
        "allValue": ".+",
        "current": {
          "text": [
            "All"
          ],
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "${datasource}"
        },
        "definition": "label_values(up{job=\"replica\",ic=\"$ic\"}, ic_subnet)",
        "includeAll": true,
        "label": "Subnet",
        "multi": true,
        "name": "ic_subnet",
        "options": [],
        "query": {
          "query": "label_values(up{job=\"replica\",ic=\"$ic\"}, ic_subnet)",
          "refId": "prometheus-ic_subnet-Variable-Query"
        },
        "refresh": 2,
        "regex": "",
        "sort": 1,
        "type": "query"
      },
      {
        "allValue": ".+",
        "current": {
          "text": [
            "All"
          ],
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "${datasource}"
        },
        "definition": "label_values(up{job=\"replica\",ic=\"$ic\",ic_subnet=~\"$ic_subnet\"}, instance)",
        "includeAll": true,
        "label": "Instance",
        "multi": true,
        "name": "instance",
        "options": [],
        "query": {
          "query": "label_values(up{job=\"replica\",ic=\"$ic\",ic_subnet=~\"$ic_subnet\"}, instance)",
          "refId": "prometheus-instance-Variable-Query"
        },
        "refresh": 2,
        "regex": "",
        "sort": 1,
        "type": "query"
      },
      {
        "current": {
          "text": [
            "All"
          ],
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "${datasource}"
        },
        "definition": "label_values(xnet_builder_build_payload_duration_seconds_count{job=\"replica\",ic=\"$ic\",ic_subnet=~\"$ic_subnet\"}, status)",
        "includeAll": true,
        "label": "Build status",
        "multi": true,
        "name": "build_status",
        "options": [],
        "query": {
          "query": "label_values(xnet_builder_build_payload_duration_seconds_count{job=\"replica\",ic=\"$ic\",ic_subnet=~\"$ic_subnet\"}, status)",
          "refId": "prometheus-build_status-Variable-Query"
        },
        "refresh": 2,
        "regex": "",
        "sort": 1,
        "type": "query"
      },
      {
        "current": {
          "text": [
            "All"
          ],
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "${datasource}"
        },
        "definition": "label_values(xnet_builder_query_slice_duration_seconds_count{job=\"replica\",ic=\"$ic\",ic_subnet=~\"$ic_subnet\"}, status)",
        "includeAll": true,
        "label": "Query status",
        "multi": true,
        "name": "query_status",
        "options": [],
        "query": {
          "query": "label_values(xnet_builder_query_slice_duration_seconds_count{job=\"replica\",ic=\"$ic\",ic_subnet=~\"$ic_subnet\"}, status)",
          "refId": "prometheus-query_status-Variable-Query"
        },
        "refresh": 2,
        "regex": "",
        "sort": 1,
        "type": "query"
      },
      {
        "auto": true,
        "auto_count": 200,
        "auto_min": "20s",
        "current": {
          "text": "$__auto",
          "value": "$__auto_interval_period"
        },
        "label": "Aggregation period",
        "name": "period",
        "options": [
          {
            "selected": false,
            "text": "20s",
            "value": "20s"
          },
          {
            "selected": false,
            "text": "30s",
            "value": "30s"
          },
          {
            "selected": false,
            "text": "1m",
            "value": "1m"
          },
          {
            "selected": false,
            "text": "2m",
            "value": "2m"
          },
          {
            "selected": false,
            "text": "5m",
            "value": "5m"
          },
          {
            "selected": false,
            "text": "10m",
            "value": "10m"
          },
          {
            "selected": false,
            "text": "30m",
            "value": "30m"
          },
          {
            "selected": false,
            "text": "1h",
            "value": "1h"
          },
          {
            "selected": false,
            "text": "3h",
            "value": "3h"
          },
          {
            "selected": false,
            "text": "6h",
            "value": "6h"
          },
          {
            "selected": false,
            "text": "12h",
            "value": "12h"
          },
          {
            "selected": false,
            "text": "1d",
            "value": "1d"
          }
        ],
        "query": "20s,30s,1m,2m,5m,10m,30m,1h,3h,6h,12h,1d",
        "refresh": 2,
        "type": "interval"
      },
      {
        "auto": true,
        "auto_count": 200,
        "auto_min": "20s",
        "current": {
          "text": "$__auto",
          "value": "$__auto_interval_heatmap_period"
        },
        "hide": 2,
        "label": "Heatmap aggregation period",
        "name": "heatmap_period",
        "options": [
          {
            "selected": false,
            "text": "20s",
            "value": "20s"
          },
          {
            "selected": false,
            "text": "30s",
            "value": "30s"
          },
          {
            "selected": false,
            "text": "1m",
            "value": "1m"
          },
          {
            "selected": false,
            "text": "2m",
            "value": "2m"
          },
          {
            "selected": false,
            "text": "5m",
            "value": "5m"
          },
          {
            "selected": false,
            "text": "10m",
            "value": "10m"
          },
          {
            "selected": false,
            "text": "30m",
            "value": "30m"
          },
          {
            "selected": false,
            "text": "1h",
            "value": "1h"
          },
          {
            "selected": false,
            "text": "3h",
            "value": "3h"
          },
          {
            "selected": false,
            "text": "6h",
            "value": "6h"
          },
          {
            "selected": false,
            "text": "12h",
            "value": "12h"
          },
          {
            "selected": false,
            "text": "1d",
            "value": "1d"
          }
        ],
        "query": "20s,30s,1m,2m,5m,10m,30m,1h,3h,6h,12h,1d",
        "refresh": 2,
        "type": "interval"
      },
      {
        "auto": false,
        "auto_count": 30,
        "auto_min": "10s",
        "current": {
          "text": "7d",
          "value": "7d"
        },
        "description": "Comparison offset",
        "label": "Comparison offset",
        "name": "comparison_offset",
        "options": [
          {
            "selected": false,
            "text": "1d",
            "value": "1d"
          },
          {
            "selected": true,
            "text": "7d",
            "value": "7d"
          },
          {
            "selected": false,
            "text": "14d",
            "value": "14d"
          },
          {
            "selected": false,
            "text": "30d",
            "value": "30d"
          }
        ],
        "query": "1d,7d,14d,30d",
        "refresh": 2,
        "type": "interval"
      }
    ]
  },
  "time": {
    "from": "now-3h",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "utc",
  "title": "Message Routing Key Metrics Comparison",
  "uid": "message-routing-key-metrics-comparison",
  "version": 14,
  "weekStart": ""
}
