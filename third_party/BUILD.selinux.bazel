# Use libselinux from the host environment

load("@rules_cc//cc:cc_import.bzl", "cc_import")
load("@rules_cc//cc:cc_library.bzl", "cc_library")

cc_import(
    name = "libselinux-internal",
    hdrs = glob(["include/selinux/*.h"]),
    interface_library = "lib/x86_64-linux-gnu/libselinux.so",
    system_provided = True,
    visibility = ["//visibility:private"],
)

# Use an extra cc_library to hide the depth of the include folder
cc_library(
    name = "libselinux",
    includes = ["include"],
    visibility = ["//visibility:public"],
    deps = ["libselinux-internal"],
)
