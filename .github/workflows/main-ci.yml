name: Main CI

on:
  # Todo: re-enable once github runner resources have been set
  # push:
  merge_group:
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
  pull_request:

jobs:
  test-evm-rpc:
    name: Test (EVM RPC)
    runs-on:
      group: ubuntu-latest
    if: ${{ vars.RUN_CI == 'true' }}
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Build Rust package
        run: cargo +nightly build --package ic-cketh-minter
