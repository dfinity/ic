# Proposal to upgrade the ledger suite orchestrator canister to add ckEURC

Git hash: `3d0b3f10417fc6708e8b5d844a0bac5e86f3e17d`

New compressed Wasm hash: `ccda8966249bc7d89f14968a242d6fb2c33d2363336303ec4f12977cab74c6f7`

Target canister: `vxkom-oyaaa-aaaar-qafda-cai`

Previous ledger suite orchestrator proposal: https://dashboard.internetcomputer.org/proposal/131484

---

## Motivation

This proposal upgrades the ckERC20 ledger suite orchestrator to add support for [EURC](https://etherscan.io/token/0x1aBaEA1f7C830bD89Acc67eC4af516284b1bC33c#tokenInfo). Once executed, the twin token ckEURC will be available on ICP, refer to the [documentation](https://github.com/dfinity/ic/blob/master/rs/ethereum/cketh/docs/ckerc20.adoc) on how to proceed with deposits and withdrawals.

## Upgrade args

```
git fetch
git checkout 3d0b3f10417fc6708e8b5d844a0bac5e86f3e17d
cd rs/ethereum/ledger-suite-orchestrator
didc encode -d ledger_suite_orchestrator.did -t '(OrchestratorArg)' '(variant { AddErc20Arg = record { contract = record { chain_id = 1; address = "0x1aBaEA1f7C830bD89Acc67eC4af516284b1bC33c" }; ledger_init_arg = record { decimals = 6; transfer_fee = 1_000; token_symbol = "ckEURC"; token_name = "ckEURC"; token_logo = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMjMuNTc2MTYgMjIzLjU3NjE1Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6IzI3NzVjYTt9LmNscy0xLC5jbHMtMntmaWxsLXJ1bGU6ZXZlbm9kZDt9LmNscy0xLC5jbHMtMiwuY2xzLTN7c3Ryb2tlLXdpZHRoOjBweDt9LmNscy0yLC5jbHMtM3tmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGlkPSJMb2dvIiBjbGFzcz0iY2xzLTEiIGQ9Im0xMTEuNzg4MDgsMGM2MS43MzkwMiwwLDExMS43ODgwOSw1MC4wNDkwNiwxMTEuNzg4MDksMTExLjc4ODA4cy01MC4wNDkwNywxMTEuNzg4MDgtMTExLjc4ODA5LDExMS43ODgwOFMwLDE3My41MjcxLDAsMTExLjc4ODA4LDUwLjA0OTA2LDAsMTExLjc4ODA4LDBaIi8+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJtMTM3LjMzMDU2LDMzLjA3MzQ5Yy0yLjUyMDcxLS44MDUzMS00LjU4Mi42OTA4OS00LjU4MiwzLjMzNzQyaDB2Ni41MDg3YzAsMS43NzQ1OCwxLjMzNzUyLDMuNzk0MjIsMy4wMDMzOCw0LjQwNDg5LDI2Ljc1NjgsOS44MDAwOSw0NS45MDM3LDM1LjUxODM2LDQ1LjkwMzcsNjUuNjI4MzdzLTE5LjE0NjksNTUuODI3NC00NS45MDM3LDY1LjYyNzkyYy0xLjgyNzE5LjY2OTQyLTMuMDAzMzgsMi40NTg5MS0zLjAwMzM4LDQuNDA1MzRoMHY2LjUwODI2YzAsMi42NDYwOSwyLjA2MTI4LDQuMTQyNzMsNC41ODIsMy4zMzc0MiwzMy44MTM0OS0xMC44MDM1Niw1OC4yOTg1OS00Mi40ODE2NSw1OC4yOTg1OS03OS44Nzg5M3MtMjQuNDg1MS02OS4wNzU4My01OC4yOTg1OS03OS44NzkzOFoiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Im05MC44MjgwMywzNi40MTA5MWMwLTIuNjQ2NTMtMi4wNjEyOC00LjE0MjczLTQuNTgyLTMuMzM3NDItMzMuODEzOTIsMTAuODAzNTUtNTguMjk5MDEsNDIuNDgxNjYtNTguMjk5MDEsNzkuODc5MzhzMjQuNDg1MSw2OS4wNzUzOCw1OC4yOTkwMSw3OS44Nzg5M2MyLjUyMDcxLjgwNTMyLDQuNTgyLS42OTEzMyw0LjU4Mi0zLjMzNzQyaDB2LTYuNTA4MjZjMC0xLjc3NTAyLTEuMzM3NTEtMy43OTUwOS0zLjAwMzgxLTQuNDA1MzQtMjYuNzU2MzctOS44MDA1Mi00NS45MDM2OS0zNS41MTgzNi00NS45MDM2OS02NS42Mjc5MnMxOS4xNDczMi01NS44MjgyOCw0NS45MDM2OS02NS42MjgzN2MxLjY2NjMtLjYxMDY3LDMuMDAzODEtMi42MzAzMSwzLjAwMzgxLTQuNDA0ODloMHYtNi41MDg3WiIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0ibTE0MC4zNzU3NCwxMzQuNzY4ODRsLTYuMzk0NDctMi44NTcwMWMtMS40MDc4Ny0uNjI5MTItMy4wNjgzOC0uMDQwMzctMy43NSwxLjM0Mjk2LTMuMDE4MDUsNi4xMjU1My04LjAzNDQzLDEwLjAyOTA1LTE0LjY2MTA4LDEwLjAyOTA1LTUuOTk5NTMsMC0xMC44MTE2LTIuOTM3MzktMTQuNDk4NzgtOC44NzQzNy0xLjQ0MTktMi4yOTcyMy0yLjU4NzM1LTQuODYxMzItMy40NTk2MS03LjY3MDgxaDE3LjE3MjEyYzEuMDg4NDIsMCwyLjA4NDI0LS42MTI2NCwyLjU3NDk1LTEuNTg0MjlsNC4wOTc2LTUuNTMwMThjLjk2OTAyLTEuOTE4NjgtLjQyNTQ1LTQuMTg1MjItMi41NzQ5NS00LjE4NTIyaC0yMy4yMDIwNmMtLjA2NzI2LTEuMTg5NTMtLjEwNzcyLTIuNDAzMDUtLjEwNzcyLTMuNjUyODctLjAxMjg1LTEuMjM5NDEuMDIyLTIuNDUzMi4wODY1NC0zLjY0ODg5aDE5LjEyNTY1YzEuMDg4NDIsMCwyLjA4NDI0LS42MTI2NCwyLjU3NDk1LTEuNTg0Mmw0LjA5NzYtNS41MzAyN2MuOTY5MDItMS45MTg2OC0uNDI1NDUtNC4xODUxMy0yLjU3NDk1LTQuMTg1MTNoLTIxLjI5MDcyYzMuMTE0MjctMTAuMTUyODgsOS42MTUyOC0xNi44MDQ3LDE3Ljk3OTM5LTE2LjY3Mzk5LDYuMzczNDcsMCwxMS4zMjE1OSwzLjQ4OTQ4LDE0LjQ5NTYxLDkuMjA0NDEuNzExNDksMS4yODEwNSwyLjMxMTk5LDEuNzcxOTQsMy42NTI0MiwxLjE4MDIxbDYuNDI3NTEtMi44Mzc2NGMxLjUzODIyLS42NzksMi4xOTIzMi0yLjUzODc0LDEuMzc3OS00LjAwOTctNS45MzMxNy0xMC43MTYxLTE0LjU4NDIzLTE2LjA5ODgyLTI1Ljk1MzQ0LTE2LjA5ODgyLTEwLjM3NDM5LDAtMTguNjg2MjYsNC4xMjQ2Ni0yNC45OTgzNiwxMi4zMTE2Mi0zLjY4OTE3LDQuODIxODUtNi4yNTcyNCwxMC40NzkzOS03Ljc4MTI0LDE2LjkyMzkyaC05LjMzNzI5Yy0xLjA4ODUxLDAtMi4wODQzMy42MTI2NC0yLjU3NDk1LDEuNTg0MmwtNC4wOTc2OSw1LjUzMDE4Yy0uOTY5MDIsMS45MTg3Ny40MjU0NSw0LjE4NTIyLDIuNTc0OTUsNC4xODUyMmgxMS44OTIxNWMtLjA1NzM5LDEuMjAxMjEtLjExMjI1LDIuNDA0MTQtLjExMjI1LDMuNjQ4ODktLjAxNTIxLDEuMjM0MzQuMDEzODUsMi40NDkyMi4wNjYwOCwzLjY1Mjg3aC03Ljc0ODI5Yy0xLjA4ODUxLDAtMi4wODQzMy42MTI3My0yLjU3NDk1LDEuNTg0MjlsLTQuMDk3NjksNS41MzAxOGMtLjk2OTAyLDEuOTE4NzcuNDI1NDUsNC4xODUyMiwyLjU3NDk1LDQuMTg1MjJoMTMuNDA3ODJjNC4yNDAzNSwxNy41MjY2LDE2LjQ0ODA1LDI5LjQ3ODg1LDMyLjgwNjc1LDI5LjIzMTY0LDExLjYxNDM0LDAsMjAuMzY4ODYtNS43NzM4NiwyNi4yMTMyMy0xNy4yNzE2MS43NDM5OS0xLjQ2MzYzLjA5MTI0LTMuMjYwMS0xLjQwNzY5LTMuOTI5ODZaIi8+PC9zdmc+"; }}})'
```
* [`0x1aBaEA1f7C830bD89Acc67eC4af516284b1bC33c`](https://etherscan.io/token/0x1aBaEA1f7C830bD89Acc67eC4af516284b1bC33c) is the address of the EURC smart contract on Ethereum Mainnet which can be verified on [Circle's website](https://www.circle.com/en/eurc).
* The transfer fee is `1_000`, corresponding approximately to 0.0011 USD. This value was selected to be easy to reason about (1 followed by zeroes), while remaining within the acceptable range of 0.1 to 1 cent.


## Release Notes

No changes to the ckERC20 ledger suite orchestrator canister codebase, since this proposal uses the same version `3d0b3f10417fc6708e8b5d844a0bac5e86f3e17d` as the previous proposal ([131484](https://dashboard.internetcomputer.org/proposal/131484)).

## Wasm Verification

Verify that the hash of the gzipped WASM matches the proposed hash.

```
git fetch
git checkout 3d0b3f10417fc6708e8b5d844a0bac5e86f3e17d
./gitlab-ci/container/build-ic.sh -c
sha256sum ./artifacts/canisters/ic-ledger-suite-orchestrator-canister.wasm.gz
```
