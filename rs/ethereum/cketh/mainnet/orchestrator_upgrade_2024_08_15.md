# Proposal to upgrade the ledger suite orchestrator canister to add ckEURC

Git hash: `3d0b3f10417fc6708e8b5d844a0bac5e86f3e17d`

New compressed Wasm hash: `ccda8966249bc7d89f14968a242d6fb2c33d2363336303ec4f12977cab74c6f7`

Target canister: `vxkom-oyaaa-aaaar-qafda-cai`

Previous ledger suite orchestrator proposal: https://dashboard.internetcomputer.org/proposal/131664

---

## Motivation

This proposal upgrades the ckERC20 ledger suite orchestrator to add support for [EURC](https://etherscan.io/token/0x1abaea1f7c830bd89acc67ec4af516284b1bc33c#tokenInfo). Once executed, the twin token ckEURC will be available on ICP, refer to the [documentation](https://github.com/dfinity/ic/blob/master/rs/ethereum/cketh/docs/ckerc20.adoc) on how to proceed with deposits and withdrawals.

## Upgrade args

```
git fetch
git checkout 3d0b3f10417fc6708e8b5d844a0bac5e86f3e17d
cd rs/ethereum/ledger-suite-orchestrator
didc encode -d ledger_suite_orchestrator.did -t '(OrchestratorArg)' '(variant { AddErc20Arg = record { contract = record { chain_id = 1; address = "0x1aBaEA1f7C830bD89Acc67eC4af516284b1bC33c" }; ledger_init_arg = record { decimals = 6; transfer_fee = 10_000; token_symbol = "ckEURC"; token_name = "ckEURC"; token_logo = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYwIiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDM2MCAzNjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF85NzlfNTUpIj4KPHBhdGggZD0iTTE4MCAwQzI3OS40IDAgMzYwIDgwLjYgMzYwIDE4MEMzNjAgMjc5LjQgMjc5LjQgMzYwIDE4MCAzNjBDODAuNiAzNjAgMCAyNzkuNCAwIDE4MEMwIDgwLjYgODAuNiAwIDE4MCAwWiIgZmlsbD0iIzNCMDBCOSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTQwLjQgMTkwLjRDNDUuNCAyNTkuNCAxMDAuNiAzMTQuNiAxNjkuNiAzMTkuNlYzMzUuMkM5MiAzMzAgMzAgMjY4IDI0LjggMTkwLjRINDAuNFoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl85NzlfNTUpIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTY5LjYgNDAuNEMxMDAuNiA0NS40IDQ1LjQgMTAwLjYgNDAuNCAxNjkuNkgyNC44QzI5LjggOTIgOTIgMjkuOCAxNjkuNiAyNC44VjQwLjRaIiBmaWxsPSIjMjlBQkUyIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzE5LjYgMTY5LjRDMzE0LjYgMTAwLjQgMjU5LjQgNDUuMiAxOTAuNCA0MC4yVjI0LjZDMjY4IDI5LjggMzMwLjIgOTEuOCAzMzUuMiAxNjkuNEgzMTkuNloiIGZpbGw9InVybCgjcGFpbnQxX2xpbmVhcl85NzlfNTUpIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTkwLjQgMzE5LjZDMjU5LjQgMzE0LjYgMzE0LjYgMjU5LjQgMzE5LjYgMTkwLjRIMzM1LjJDMzMwLjIgMjY4IDI2OCAzMzAgMTkwLjQgMzM1LjJWMzE5LjZaIiBmaWxsPSIjMjlBQkUyIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjEzLjE5NyA3NS44MzQyQzIwOS45IDc0Ljc4MDkgMjA3LjIwNCA3Ni43Mzc4IDIwNy4yMDQgODAuMTk5NFY4OC43MTI0QzIwNy4yMDQgOTEuMDMzNCAyMDguOTUzIDkzLjY3NSAyMTEuMTMyIDk0LjQ3MzZDMjQ2LjEyOCAxMDcuMjkyIDI3MS4xNzEgMTQwLjkzIDI3MS4xNzEgMTgwLjMxMkMyNzEuMTcxIDIxOS42OTQgMjQ2LjEyOCAyNTMuMzMgMjExLjEzMiAyNjYuMTQ5QzIwOC43NDIgMjY3LjAyNCAyMDcuMjA0IDI2OS4zNjUgMjA3LjIwNCAyNzEuOTExVjI4MC40MjNDMjA3LjIwNCAyODMuODg1IDIwOS45IDI4NS44NDIgMjEzLjE5NyAyODQuNzg5QzI1Ny40MjIgMjcwLjY1OCAyODkuNDQ3IDIyOS4yMjUgMjg5LjQ0NyAxODAuMzEyQzI4OS40NDcgMTMxLjM5OCAyNTcuNDIyIDg5Ljk2NDYgMjEzLjE5NyA3NS44MzQyWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNTIuMzc0IDgwLjE5OTRDMTUyLjM3NCA3Ni43Mzc4IDE0OS42NzggNzQuNzgwOSAxNDYuMzgxIDc1LjgzNDJDMTAyLjE1NCA4OS45NjQ2IDcwLjEyOTIgMTMxLjM5OCA3MC4xMjkyIDE4MC4zMTJDNzAuMTI5MiAyMjkuMjI2IDEwMi4xNTQgMjcwLjY1OCAxNDYuMzgxIDI4NC43ODlDMTQ5LjY3OCAyODUuODQyIDE1Mi4zNzQgMjgzLjg4NSAxNTIuMzc0IDI4MC40MjNWMjcxLjkxMUMxNTIuMzc0IDI2OS41ODkgMTUwLjYyNCAyNjYuOTQ3IDE0OC40NDUgMjY2LjE0OUMxMTMuNDQ5IDI1My4zMyA4OC40MDU2IDIxOS42OTMgODguNDA1NiAxODAuMzEyQzg4LjQwNTYgMTQwLjkzIDExMy40NDkgMTA3LjI5MiAxNDguNDQ1IDk0LjQ3MzZDMTUwLjYyNCA5My42NzUgMTUyLjM3NCA5MS4wMzM0IDE1Mi4zNzQgODguNzEyM1Y4MC4xOTk0WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTIxNy4xOCAyMDguODQ2TDIwOC44MTUgMjA1LjEwOUMyMDYuOTc0IDIwNC4yODYgMjA0LjgwMiAyMDUuMDU1IDIwMy45MSAyMDYuODY1QzE5OS45NjMgMjE0Ljg3NyAxOTMuNDAyIDIxOS45ODMgMTg0LjczNSAyMTkuOTgzQzE3Ni44ODggMjE5Ljk4MyAxNzAuNTk1IDIxNi4xNCAxNjUuNzcxIDIwOC4zNzVDMTYzLjg4NiAyMDUuMzcgMTYyLjM4NyAyMDIuMDE3IDE2MS4yNDcgMTk4LjM0M0gxODMuNzA3QzE4NS4xMyAxOTguMzQzIDE4Ni40MzIgMTk3LjU0MSAxODcuMDc1IDE5Ni4yN0wxOTIuNDMzIDE4OS4wMzdDMTkzLjcwMSAxODYuNTI3IDE5MS44NzcgMTgzLjU2MyAxODkuMDY3IDE4My41NjNIMTU4LjcxOUMxNTguNjMxIDE4Mi4wMDcgMTU4LjU3OCAxODAuNDIgMTU4LjU3OCAxNzguNzg1QzE1OC41NjEgMTc3LjE2NSAxNTguNjA3IDE3NS41NzcgMTU4LjY5MSAxNzQuMDEzSDE4My43MDdDMTg1LjEzIDE3NC4wMTMgMTg2LjQzMiAxNzMuMjEyIDE4Ny4wNzUgMTcxLjk0MUwxOTIuNDMzIDE2NC43MDhDMTkzLjcwMiAxNjIuMTk4IDE5MS44NzcgMTU5LjIzNCAxODkuMDY3IDE1OS4yMzRIMTYxLjIxOUMxNjUuMjkyIDE0NS45NTQgMTczLjc5NSAxMzcuMjU0IDE4NC43MzUgMTM3LjQyNUMxOTMuMDcyIDEzNy40MjUgMTk5LjU0MyAxNDEuOTg5IDIwMy42OTUgMTQ5LjQ2NEMyMDQuNjI1IDE1MS4xMzkgMjA2LjcxOSAxNTEuNzgxIDIwOC40NzEgMTUxLjAwOEwyMTYuODc5IDE0Ny4yOTZDMjE4Ljg5IDE0Ni40MDggMjE5Ljc0NiAxNDMuOTc2IDIxOC42ODEgMTQyLjA1MkMyMTAuOTIgMTI4LjAzNiAxOTkuNjA1IDEyMC45OTUgMTg0LjczNSAxMjAuOTk1QzE3MS4xNjYgMTIwLjk5NSAxNjAuMjk0IDEyNi4zOSAxNTIuMDM5IDEzNy4wOThDMTQ3LjIxNCAxNDMuNDA1IDE0My44NTUgMTUwLjgwNSAxNDEuODYxIDE1OS4yMzRIMTI5LjY0OUMxMjguMjI1IDE1OS4yMzQgMTI2LjkyMyAxNjAuMDM1IDEyNi4yODEgMTYxLjMwNkwxMjAuOTIxIDE2OC41MzlDMTE5LjY1NCAxNzEuMDQ5IDEyMS40NzggMTc0LjAxMyAxMjQuMjg5IDE3NC4wMTNIMTM5Ljg0M0MxMzkuNzY4IDE3NS41ODMgMTM5LjY5NyAxNzcuMTU3IDEzOS42OTcgMTc4Ljc4NUMxMzkuNjc3IDE4MC4zOTkgMTM5LjcxNSAxODEuOTg4IDEzOS43ODMgMTgzLjU2M0gxMjkuNjQ5QzEyOC4yMjUgMTgzLjU2MyAxMjYuOTIzIDE4NC4zNjUgMTI2LjI4MSAxODUuNjM1TDEyMC45MjEgMTkyLjg2OEMxMTkuNjU0IDE5NS4zNzggMTIxLjQ3OCAxOTguMzQzIDEyNC4yODkgMTk4LjM0M0gxNDEuODI2QzE0Ny4zNzIgMjIxLjI2NiAxNjMuMzM5IDIzNi44OTggMTg0LjczNSAyMzYuNTc1QzE5OS45MjYgMjM2LjU3NSAyMTEuMzc2IDIyOS4wMjMgMjE5LjAyIDIxMy45ODZDMjE5Ljk5MyAyMTIuMDcxIDIxOS4xNCAyMDkuNzIyIDIxNy4xOCAyMDguODQ2WiIgZmlsbD0id2hpdGUiLz4KPC9nPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzk3OV81NSIgeDE9IjEzMC43MiIgeTE9IjMwNC4xMiIgeDI9IjMzLjQ4IiB5Mj0iMjIyLjIyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIG9mZnNldD0iMC4yMSIgc3RvcC1jb2xvcj0iI0VEMUU3OSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1MjI3ODUiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzk3OV81NSIgeDE9IjMwOS4zMiIgeTE9IjEyMy4wNiIgeDI9IjIxMi4wOCIgeTI9IjQxLjE2IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIG9mZnNldD0iMC4yMSIgc3RvcC1jb2xvcj0iI0YxNUEyNCIvPgo8c3RvcCBvZmZzZXQ9IjAuNjgiIHN0b3AtY29sb3I9IiNGQkIwM0IiLz4KPC9saW5lYXJHcmFkaWVudD4KPGNsaXBQYXRoIGlkPSJjbGlwMF85NzlfNTUiPgo8cmVjdCB3aWR0aD0iMzYwIiBoZWlnaHQ9IjM2MCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K"; }}})'
```
* [`0x1aBaEA1f7C830bD89Acc67eC4af516284b1bC33c`](https://etherscan.io/token/0x1aBaEA1f7C830bD89Acc67eC4af516284b1bC33c) is the address of the EURC smart contract on Ethereum Mainnet which can be verified on [EURC's website](https://developers.circle.com/stablecoins/docs/eurc-on-main-networks).
* The transfer fee is `10_000`, corresponding approximately to 0.011 USD. This value was selected to be easy to reason about (1 followed by zeroes), while remaining within the acceptable range of 0.1 to 1 cent.


## Release Notes

No changes to the ckERC20 ledger suite orchestrator canister codebase, since this proposal uses the same version `3d0b3f10417fc6708e8b5d844a0bac5e86f3e17d` as the previous proposal ([131484](https://dashboard.internetcomputer.org/proposal/131484)).

## Wasm Verification

Verify that the hash of the gzipped WASM matches the proposed hash.

```
git fetch
git checkout 3d0b3f10417fc6708e8b5d844a0bac5e86f3e17d
./gitlab-ci/container/build-ic.sh -c
sha256sum ./artifacts/canisters/ic-ledger-suite-orchestrator-canister.wasm.gz
```
