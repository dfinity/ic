[package]
name = "config"
version = "1.0.0"
edition.workspace = true

[dependencies]
anyhow = { workspace = true }
askama = { workspace = true }
clap = { workspace = true }
macaddr = { workspace = true }
utils = { path = "../utils" }
url = { workspace = true }
serde_json = { workspace = true }
serde = { workspace = true }
serde_with = "1.6.2"
regex = { workspace = true }
ic-config = { path = "../../config" }
config_types = { path = "../config_types" }
network = { path = "../network" }                                     # Only required by bin
deterministic_ips = { path = "../deterministic_ips" }
linux_kernel_command_line = { path = "../linux_kernel_command_line" }
tempfile = { workspace = true }
rust-ini = { workspace = true }
fs_extra = { workspace = true }
walkdir = { workspace = true }
get_if_addrs = { workspace = true }
ic_sev = { path = "../sev" }

[dev-dependencies]
once_cell = "1.8"
tempfile = { workspace = true }
url = { workspace = true }

[lib]
name = "config"
path = "src/lib.rs"

[[bin]]
name = "config"
path = "src/main.rs"

[features]
dev = []
