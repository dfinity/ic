type HexHash = text;
type GetError = variant { InvalidHash : text; NotFound };
type InsertError = variant {
    NotAuthorized;
    InvalidHash : text;
    AlreadyExists;
    HashMismatch : record { actual : text; expected : text };
};
type InsertRequest = record { data : blob; hash : HexHash };
service : () -> {
    get : (text) -> (variant { Ok : blob; Err : GetError }) query;
    insert : (InsertRequest) -> (variant { Ok : HexHash; Err : InsertError });
}
