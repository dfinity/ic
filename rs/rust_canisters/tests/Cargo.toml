[package]
name = "rust-canister-tests"
version.workspace = true
authors.workspace = true
edition.workspace = true
description.workspace = true
documentation.workspace = true

[dependencies]
dfn_core = { workspace = true }
dfn_json = { workspace = true }
dfn_macro = { workspace = true }
on_wire = { workspace = true }
rand = { workspace = true }
rand_pcg = { workspace = true }
serde = { workspace = true }
serde_json = { workspace = true }

[[bin]]
name = "json"
path = "src/json.rs"

[[bin]]
name = "inter_canister_error_handling"
path = "src/inter_canister_error_handling.rs"

[[bin]]
name = "nan_canonicalized"
path = "src/nan_canonicalized.rs"

[[bin]]
name = "stable"
path = "src/stable.rs"

[[bin]]
name = "time"
path = "src/time.rs"

[[bin]]
name = "panics"
path = "src/panics.rs"

[dev-dependencies]
assert_matches = { workspace = true }
candid = { workspace = true }
canister-test = { workspace = true }
criterion = { workspace = true }
dfn_candid = { workspace = true }
ic-canister-client-sender = { workspace = true }
ic-error-types = { workspace = true }
ic-management-canister-types-private = { workspace = true }
ic-test-identity = { workspace = true }
ic-test-utilities = { workspace = true }
ic-types = { workspace = true }
on_wire = { workspace = true }

[[bench]]
name = "json"
harness = false

[[test]]
name = "test"
path = "test/test.rs"

[[test]]
name = "rust-canisters-hooks"
path = "test/hooks.rs"

[[test]]
name = "upgrade"
path = "test/upgrade.rs"

[[test]]
name = "canister_management"
path = "test/canister_management.rs"

[[test]]
name = "ingress"
path = "test/ingress.rs"
