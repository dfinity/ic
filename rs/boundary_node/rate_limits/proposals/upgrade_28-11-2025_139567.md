# Upgrade the Rate-Limit Canister to Commit b6af146

__Proposer__: Node Team at the DFINITY Foundation

__Source code__: [b6af146665ebc45549f185f84267beae003fc07f][new-commit]

[new-commit]: https://github.com/dfinity/ic/tree/b6af146665ebc45549f185f84267beae003fc07f

## Summary

The canister has been upgraded to `ic-cdk` v0.19 and `ic-cdk-timers` v1.0.0

## Verifying the installation

First, make sure your Git repo has the right information.

```
# Option A. Get a fresh copy of the code.
git clone git@github.com:dfinity/ic.git && cd ic
# Option B. If you already have a copy of the ICP repo.
git fetch
```

Second, checkout the right version of the code.

```
git checkout b6af146665ebc45549f185f84267beae003fc07f
```

### Argument Verification

The [didc][latest_didc] tool is required.

[latest_didc]: https://github.com/dfinity/candid/releases/latest

Fingerprint the canister argument:

```
didc encode \
    -d rs/boundary_node/rate_limits/canister/interface.did \
    -t '(InitArg)' \
    '(record {
        registry_polling_period_secs = 300;
    })' | xxd -r -p | sha256sum
```

This should match `arg_hash` field of this proposal.

### WASM Verification

See ["Building the code"][prereqs] for prerequisites.

[prereqs]: https://github.com/dfinity/ic/tree/b6af146665ebc45549f185f84267beae003fc07f/README.adoc#building-the-code

Build the release version of canisters:

```
./ci/container/build-ic.sh -c
```

Fingerprint the canister module:

```
sha256sum ./artifacts/canisters/rate-limit-canister.wasm.gz
```

This should match `wasm_module_hash` field of this proposal.
